# TrustLayer AI - Configuration ConfigMap
apiVersion: v1
kind: ConfigMap
metadata:
  name: trustlayer-config
  namespace: trustlayer-ai
  labels:
    app: trustlayer-ai
    component: config
data:
  config.yaml: |
    proxy:
      host: "0.0.0.0"
      port: 8000
      
    allowed_domains:
      - "api.openai.com"
      - "api.anthropic.com"
      - "generativelanguage.googleapis.com"
      - "api.cohere.ai"

    redis:
      host: "redis-service"
      port: 6379
      db: 0
      session_ttl: 3600

    presidio:
      entities:
        - "PERSON"
        - "EMAIL_ADDRESS"
        - "PHONE_NUMBER"
        - "CREDIT_CARD"
        - "IBAN_CODE"
        - "IP_ADDRESS"
        - "LOCATION"
        - "ORGANIZATION"
        - "DATE_TIME"
        - "MEDICAL_LICENSE"
        - "US_SSN"
        - "IN_PAN"
        - "IN_AADHAAR"

    security:
      prompt_injection_patterns:
        - "ignore previous instructions"
        - "forget everything"
        - "act as"
        - "pretend to be"
        - "roleplay"
        - "system prompt"
        - "override"

    dashboard:
      host: "0.0.0.0"
      port: 8501
---
# Environment-specific configuration
apiVersion: v1
kind: ConfigMap
metadata:
  name: trustlayer-env-config
  namespace: trustlayer-ai
  labels:
    app: trustlayer-ai
    component: env-config
data:
  ENVIRONMENT: "prod"
  LOG_LEVEL: "INFO"
  PYTHONPATH: "/app"
  STREAMLIT_SERVER_ADDRESS: "0.0.0.0"
  STREAMLIT_SERVER_PORT: "8501"
  STREAMLIT_SERVER_HEADLESS: "true"
  STREAMLIT_BROWSER_GATHER_USAGE_STATS: "false"